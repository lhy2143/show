{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/views/safe.vue?beb9","webpack:///./src/utils/index.ts","webpack:///./src/views/safe.vue?8ef5","webpack:///./src/views/safe.vue?8717","webpack:///./src/views/safe.vue","webpack:///./node_modules/core-js/modules/es6.array.sort.js"],"names":["fails","__webpack_require__","module","exports","method","arg","call","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","banner","prop","assetType","ref","slot","risk","data","leak","_l","worldMap","item","style","_v","_s","name","value","unit","securityList","securityEchart","threat","staticRenderFns","randomNumBoth","Min","Max","Math","floor","random","ascendingOrder","v","m","n","a","b","safevue_type_script_lang_ts_HomePage","_Vue","HomePage","_this","Object","classCallCheck","timer","attackList","inherits","createClass","key","getAssetType","getRisk","getLeak","getScore","getSecurityEchart","getThreat","getMapData","$refs","tableScroll","initData","animateList","chartPie","realData","changeData","min","max","forEach","sort","colorArray","index","arr","offset","color","push","chartBarLeak","round","score","level","chartMorePie","_this2","len","mapData","length","geoCoordMap","initMap","setInterval","disposalRate","intercepted","security","center","bottomColor","topColor","left","chartLiquidFill","borderNum","sum","chartBarThreat","obj","i","clearInterval","_this3","$title_4","$safeData","getChild","vue_property_decorator","tslib_es6","safevue_type_script_lang_ts_","views_safevue_type_script_lang_ts_","component","componentNormalizer","__webpack_exports__","$export","aFunction","toObject","$sort","test","P","F","undefined","comparefn"],"mappings":"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","file":"js/chunk-47956696.533db5fa.js","sourcesContent":["'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-page\"},[_c('banner',{attrs:{\"banner\":_vm.banner}}),_c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"left\"},[_c('split-bar',{staticClass:\"l_one\",attrs:{\"prop\":_vm.assetType}},[_c('chart-pie',{ref:\"chartPie\",attrs:{\"slot\":\"split_con\"},slot:\"split_con\"})],1),_c('split-bar',{staticClass:\"l_two\",attrs:{\"prop\":_vm.risk}},[_c('icon-data',{attrs:{\"slot\":\"split_con\",\"data\":_vm.risk.data},slot:\"split_con\"})],1),_c('split-bar',{staticClass:\"l_three\",attrs:{\"prop\":_vm.leak}},[_c('chart-bar',{ref:\"chartBarLeak\",attrs:{\"slot\":\"split_con\"},slot:\"split_con\"})],1)],1),_c('div',{staticClass:\"middle\"},[_c('div',{staticClass:\"m_one\"},[_c('div',{staticClass:\"score\"},[_c('chartMorePie',{ref:\"chartMorePie\"})],1),_c('div',{staticClass:\"mapLegend\"},_vm._l((_vm.worldMap.legendData),function(item){return _c('div',{staticClass:\"boxLegend\"},[_c('span',{staticClass:\"icon\",style:((\"background: \" + (item.color) + \";\"))}),_c('span',[_vm._v(_vm._s(item.name))]),_c('span',{staticClass:\"legendVal\"},[_vm._v(_vm._s(item.value)+_vm._s(item.unit))])])}),0),_c('worldMap',{ref:\"worldMap\"})],1),_c('div',{staticClass:\"m_two\"},[_c('tableScroll',{ref:\"tableScroll\"})],1)]),_c('div',{staticClass:\"right\"},[_c('split-bar',{staticClass:\"r_one\",attrs:{\"prop\":_vm.securityList}},[_c('animateList',{ref:\"animateList\",attrs:{\"slot\":\"split_con\"},slot:\"split_con\"})],1),_c('split-bar',{staticClass:\"r_two\",attrs:{\"prop\":_vm.securityEchart}},[_c('div',{staticClass:\"con\",attrs:{\"slot\":\"split_con\"},slot:\"split_con\"},[_c('div',{staticClass:\"chartTitle\"},[_c('borderNum',{ref:\"borderNum\"})],1),_c('div',{staticClass:\"chart\"},[_c('chartLiquidFill',{ref:\"chartLiquidFill\"})],1)])]),_c('split-bar',{staticClass:\"r_three\",attrs:{\"prop\":_vm.threat}},[_c('chart-bar',{ref:\"chartBarThreat\",attrs:{\"slot\":\"split_con\"},slot:\"split_con\"})],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n\r\n/**\r\n * @param {Number} Min\r\n * @param {Number} Max\r\n * @description 两个数之间的随机数\r\n */\r\nexport const randomNumBoth = (Min : any, Max : any) => {\r\n  return Math.floor(Math.random() * (Max - Min) + Min);\r\n}\r\n\r\n/**\r\n * @param {Any} v\r\n * @description 升序排序\r\n */\r\nexport const ascendingOrder = (v : any) => {\r\n  //这是比较函数\r\n  return function(m, n) {\r\n    var a = m[v];\r\n    var b = n[v];\r\n    return a - b; //升序\r\n  };\r\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\nimport { ascendingOrder, randomNumBoth } from \"../utils/index\";\r\n@Component\r\nexport default class HomePage extends Vue {\r\n  banner: object = {};\r\n  timer: any = null;\r\n  assetType: any = {};\r\n  risk: any = {};\r\n  leak: any = {};\r\n  worldMap: any = {};\r\n  attackList: any = {};\r\n  securityList: any = {};\r\n  securityEchart: any = {};\r\n  threat: any = {};\r\n  data: any = {};\r\n  getChild() {\r\n    this.getAssetType();\r\n    this.getRisk();\r\n    this.getLeak();\r\n    this.getScore();\r\n    this.getSecurityEchart();\r\n    this.getThreat();\r\n    this.getMapData();\r\n    (this.$refs.tableScroll as any).initData(this.attackList); //地图下列表\r\n    (this.$refs.animateList as any).initData(this.securityList.data); //安全事件态势\r\n  }\r\n  //资产类型\r\n  getAssetType() {\r\n    // this.assetType = this.getData('assetType');\r\n    (this.$refs.chartPie as any).initData(this.assetType);\r\n  }\r\n  //外连风险总览\r\n  getRisk() {\r\n    if (this.risk.realData == false) {\r\n      this.changeData(this.risk.data, 1, 500);\r\n    }\r\n  }\r\n  changeData(data, min, max) {\r\n    data.forEach(item => {\r\n      item.value = randomNumBoth(min, max);\r\n    });\r\n    return data;\r\n  }\r\n  //漏洞类型\r\n  getLeak() {\r\n    // this.leak = this.getData('leak');\r\n    //漏洞类型排名数据处理\r\n    this.leak.data.sort(ascendingOrder(\"value\"));\r\n    let colorArray = [];\r\n    this.leak.data.forEach((item, index) => {\r\n      let arr = [\r\n        {\r\n          offset: 0,\r\n          color: \"\"\r\n        },\r\n        {\r\n          offset: 1,\r\n          color: \"\"\r\n        }\r\n      ];\r\n      if (item.value >= 70) {\r\n        arr[0].color = \"#ff3e3f\";\r\n        arr[1].color = \"#ff3e3f\";\r\n      } else if (item.value < 70 && item.value >= 30) {\r\n        arr[0].color = \"#fff000\";\r\n        arr[1].color = \"#fff000\";\r\n      } else if (item.value < 30) {\r\n        arr[0].color = \"#34ff2a\";\r\n        arr[1].color = \"#34ff2a\";\r\n      }\r\n      colorArray.push(arr);\r\n    });\r\n    this.leak.colorArray = colorArray;\r\n    (this.$refs.chartBarLeak as any).initData(this.leak);\r\n  }\r\n  //地图上综合评分\r\n  getScore() {\r\n    // this.worldMap = (this as any).$safeData.worldMap;\r\n    // 判断等级\r\n    let score = Math.round(this.worldMap.score.value);\r\n    if (this.worldMap.realData == false) {\r\n      // score = randomNumBoth(80,88)\r\n      this.worldMap.score.value = randomNumBoth(81, 88);\r\n    }\r\n    if (this.worldMap.score.value <= 60) {\r\n      this.worldMap.score.level = \"差\";\r\n    } else if (\r\n      this.worldMap.score.value >= 61 &&\r\n      this.worldMap.score.value <= 80\r\n    ) {\r\n      this.worldMap.score.level = \"中\";\r\n    } else if (\r\n      this.worldMap.score.value >= 81 &&\r\n      this.worldMap.score.value <= 90\r\n    ) {\r\n      this.worldMap.score.level = \"良\";\r\n    } else if (\r\n      this.worldMap.score.value >= 91 &&\r\n      this.worldMap.score.value <= 100\r\n    ) {\r\n      this.worldMap.score.level = \"优\";\r\n    }\r\n    (this.$refs.chartMorePie as any).initData(this.worldMap.score); //地图上综合评分\r\n  }\r\n  getMapData() {//地图\r\n      let len = this.worldMap.mapData.length;\r\n      \r\n      let data = this.worldMap.mapData[0];\r\n      let geoCoordMap = this.worldMap.geoCoordMap[0];\r\n      this.initMap(data,geoCoordMap);\r\n      var n = 0;\r\n      setInterval(() => {\r\n        n++;\r\n        if( n < len){\r\n          this.initMap(this.worldMap.mapData[n],this.worldMap.geoCoordMap[n]);\r\n        }else{\r\n          n=0;\r\n          this.initMap(data,geoCoordMap);\r\n        }\r\n      },15000);\r\n    // (this.$refs.worldMap as any).initData(data,geoCoordMap); \r\n  }\r\n  initMap(data,geoCoordMap){\r\n    (this.$refs.worldMap as any).initData(data,geoCoordMap); \r\n  }\r\n  //安全事件处置\r\n  getSecurityEchart() {\r\n    let disposalRate = this.securityEchart.data.disposalRate.value;\r\n    let intercepted = this.securityEchart.data.intercepted.value;\r\n    if (this.securityEchart.realData == false) {\r\n      disposalRate = randomNumBoth(80, 99) / 100;\r\n      intercepted = randomNumBoth(80, 99) / 100;\r\n    }\r\n    let security = [\r\n      {\r\n        name: this.securityEchart.data.disposalRate.name,\r\n        center: [\"25%\", \"45%\"],\r\n        value: disposalRate,\r\n        bottomColor: \"#b07a01\",\r\n        topColor: \"#fffc00\",\r\n        left: \"18%\"\r\n      },\r\n      {\r\n        name: this.securityEchart.data.intercepted.name,\r\n        center: [\"75%\", \"45%\"],\r\n        value: intercepted,\r\n        bottomColor: \"#005791\",\r\n        topColor: \"#04d5dd\",\r\n        left: \"65%\"\r\n      }\r\n    ];\r\n    (this.$refs.chartLiquidFill as any).initData(security);\r\n    (this.$refs.borderNum as any).initData(this.securityEchart.data.sum);\r\n  }\r\n  getThreat() {\r\n    //威胁情况\r\n    this.threat.data.sort(ascendingOrder(\"value\"));\r\n    let colorArray = [];\r\n    this.threat.data.forEach((item, index) => {\r\n      let arr = [\r\n        {\r\n          offset: 0,\r\n          color: \"\"\r\n        },\r\n        {\r\n          offset: 1,\r\n          color: \"\"\r\n        }\r\n      ];\r\n      if (item.value >= 70) {\r\n        arr[0].color = \"#ff3e3f\";\r\n        arr[1].color = \"#ff3e3f\";\r\n      } else if (item.value < 70 && item.value >= 30) {\r\n        arr[0].color = \"#fff000\";\r\n        arr[1].color = \"#fff000\";\r\n      } else if (item.value < 30) {\r\n        arr[0].color = \"#34ff2a\";\r\n        arr[1].color = \"#34ff2a\";\r\n      }\r\n      colorArray.push(arr);\r\n    });\r\n    this.threat.colorArray = colorArray;\r\n    (this.$refs.chartBarThreat as any).initData(this.threat);\r\n  }\r\n  getData(v) {\r\n    let obj = {};\r\n    for (var i in this.data) {\r\n      if (v == i) {\r\n        obj = this.data[i];\r\n      }\r\n    }\r\n    return obj;\r\n  }\r\n  beforeDestroy() {\r\n    clearInterval(this.timer);\r\n  }\r\n  mounted() {\r\n    this.banner = (this as any).$title_4;\r\n    // this.data = (this as any).$safeData;\r\n    this.assetType = (this as any).$safeData.assetType;\r\n    this.risk = (this as any).$safeData.risk;\r\n    this.leak = (this as any).$safeData.leak;\r\n    this.worldMap = (this as any).$safeData.worldMap;\r\n    this.attackList = (this as any).$safeData.attackList;\r\n    this.securityList = (this as any).$safeData.securityList;\r\n    this.securityEchart = (this as any).$safeData.securityEchart;\r\n    this.threat = (this as any).$safeData.threat;\r\n    this.getChild();\r\n    this.timer = setInterval(() => {\r\n      this.getRisk();\r\n      this.getScore();\r\n      this.getSecurityEchart();\r\n    }, 10000);\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./safe.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./safe.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./safe.vue?vue&type=template&id=f20c7824&\"\nimport script from \"./safe.vue?vue&type=script&lang=ts&\"\nexport * from \"./safe.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n"],"sourceRoot":""}